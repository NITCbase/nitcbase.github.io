<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Roadmap/Stage03">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Stage 3 : The Frontend Interface | NITCbase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nitcbase.github.io/docs/Roadmap/Stage03"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Stage 3 : The Frontend Interface | NITCbase"><meta data-rh="true" name="description" content="- Learn about the operations in NITCbase and the XFS interface"><meta data-rh="true" property="og:description" content="- Learn about the operations in NITCbase and the XFS interface"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nitcbase.github.io/docs/Roadmap/Stage03"><link data-rh="true" rel="alternate" href="https://nitcbase.github.io/docs/Roadmap/Stage03" hreflang="en"><link data-rh="true" rel="alternate" href="https://nitcbase.github.io/docs/Roadmap/Stage03" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/feedback/rss.xml" title="NITCbase RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/feedback/atom.xml" title="NITCbase Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.6121986d.css">
<link rel="preload" href="/assets/js/runtime~main.2f547842.js" as="script">
<link rel="preload" href="/assets/js/main.96397bd8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">NITCbase</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Roadmap/introduction">Roadmap</a><a class="navbar__item navbar__link" href="/docs/Design/Architecture">Design</a><a class="navbar__item navbar__link" href="/docs/User Interface Commands/introduction">NITCbase Commands</a><a class="navbar__item navbar__link" href="/docs/Misc/">Miscellaneous</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/feedback">Feedback</a><a class="navbar__item navbar__link" href="/AboutUs">About Us</a><a href="https://github.com/nitcbase" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--dark_i4oU"><b>NITCbase</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Roadmap/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Roadmap/Stage00">Stage 0 : Installation and Preparation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Roadmap/Stage01">Stage 1 : Understanding the Disk Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Roadmap/Stage02">Stage 2: Disk Data Structures and Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/Roadmap/Stage03">Stage 3 : The Frontend Interface</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>The Frontend Interface (6 hours)</h1><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Learning Objectives</div><div class="admonitionContent_S0QG"><ul><li>Learn about the operations in NITCbase and the XFS interface</li><li>Learn about the NITCbase architecture</li></ul></div></div><p>We&#x27;ve now got a bottom-up view of how NITCbase stores and uses the data. Let&#x27;s take a top-down look at all the operations our database will support and how we&#x27;ll implement them.</p><h1>The Commands</h1><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="schema-operations">Schema Operations<a href="#schema-operations" class="hash-link" aria-label="Direct link to Schema Operations" title="Direct link to Schema Operations">​</a></h3><ul><li><p><strong>Table Creation and Deletion</strong><br>
Creating a table is a fundamental operation in a database. In NITCbase, table creation entails the following steps;</p><ol><li>Ensure that a relation with the same name does not already exist by iterating through the relation catalog</li><li>Insert a new entry into the relation catalog. We will have to do this operation on the relation catalog disk block directly since we do not have a relation cache entry(Why?)</li><li>Insert entries for all the new attributes into the appropriate attribute catalog disk block. This too will have to be done to the disk block directly.</li></ol><p>Deleting a table involves removing all the entries created during the table creation and freeing all the record blocks used by the relation.</p></li><li><p><strong>Table Opening and Closing</strong><br>
As we mentioned earlier, a table needs to be open for any operation to be done on it. Opening a relation involves loading the relation and attribute catalog entries for the relation into the relation and attribute cache respectively. <br>
Closing a relation involves writing back any changes that occured to the cache to the disk block and freeing the memory allocated during opening. <br>
The relation catalog and attribute catalog will always be open and cannot be closed.</p></li><li><p><strong>Index Creation and Deletion</strong><br>
A high-end database might automatically create and dispose of indexes as required by the program without user intervention. In NITCbase, the user is expected to decide when the index is to be created and dropped. Creating an index on an attribute involves iterating through all the records of the relation and inserting the attribute value as well as a pointer to the record into a B+ tree.<br>
Index deletion involves recursively deleting all the nodes of the B+ tree.</p></li><li><p><strong>Table and Column Rename</strong><br>
NITCbase allows us to rename existing relations and their attributes. This is done by updating the relation/attribute cache.</p></li></ul><p><strong>Read through the documentation for <a href="/docs/User Interface Commands/ddl">DDL Commands</a> before proceeding further.</strong> We&#x27;ll look into detail about the implementation of these features as we develop the <a href="/docs/Design/Schema Layer">Schema Layer</a>.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="algebra-operations">Algebra Operations<a href="#algebra-operations" class="hash-link" aria-label="Direct link to Algebra Operations" title="Direct link to Algebra Operations">​</a></h3><ul><li><p><strong>Insertion</strong><br>
Any database will have to support the basic operation of inserting records. Inserting records into a relation in NITCbase involves the following steps.</p><ol><li>ensuring that the relation is open and not the relation/attribute catalog</li><li>fetch the relation catalog entry from the relation cache</li><li>get the first record block for the relation from the relation catalog entry</li><li>iterate through all the slots of the block and every subsequent record block until a free slot is found (using the slot map)</li><li>if a free slot is not found, allocate a new record block for the relation and update the relation cache and the block headers to add it to the linked list.</li><li>set the record values in the free slot found and update the <code>numEntries</code> in the relation cache and other fields in the header of the block.</li><li>do a b+ tree insertion if any index exists for this relation</li></ol></li><li><p><strong>Selection</strong><br>
A selection operation on a relation is used to select a subset of the records satisfying a certain condition. NITCbase supports selection with the following operators: <code>=</code>, <code>!=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code> <code>&gt;=</code>. We will be able to select the records that fit the condition into a new relation.</p></li><li><p><strong>Projection</strong><br>
A projection operation is used to pick a subset of attributes from a relation. The specified attributes from all the records of the relation will be projected. NITCbase supports projection into a new relation.</p></li><li><p><strong>Joins</strong><br>
The join operation is used to combine two relations with respect to a condition on two columns from the respective relations. NITCbase allows us to combine two relations into a new relation with the <code>=</code> condition. This is called an <a href="https://en.wikipedia.org/wiki/Relational_algebra#%CE%B8-join_and_equijoin" target="_blank" rel="noopener noreferrer">equijoin</a>.</p></li></ul><p>NITCbase also allows you to do any combination of selection, projection and join together in a single command to create a new target relation with the specified properties.</p><p><strong>Read through the documentation for <a href="/docs/User Interface Commands/dml">DML Commands</a> before proceeding further.</strong> We&#x27;ll look into detail about the implementation of these features as we develop the <a href="/docs/Design/Algebra Layer">Algebra Layer</a>.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><p>Q. Consider we have a relation <code>Events</code> with the attributes (<code>id</code>: NUM, <code>title</code>: STR, <code>location</code>: STR) and a relation <code>Locations</code> with the attributes name(<code>name</code>: STR, <code>capacity</code>: NUM). There are no index blocks on the disk. We run the following commands on our frontend interface.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">OPEN TABLE Events;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SELECT * FROM Events INTO Lectures WHERE location=ELHC;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OPEN TABLE Locations;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">OPEN TABLE Lectures;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">SELECT title, location, capacity FROM Lectures JOIN INTO LectureCapacities Locations WHERE Lectures.location = Locations.name;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">DROP TABLE Lectures;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ALTER TABLE RENAME LectureCapacities TO Lectures;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li>What are the entries in the relation cache and attribute cache for the new relation?</li><li>What commands could we have run to speed up these operations?</li><li>Suppose we add a relation <code>Participants</code> with attributes (<code>regNo</code>: NUM, <code>event</code>: STR). Write commands to filter only the students who are attending the event happening in the location <em>Auditorium</em>.</li></ol><p>(click to view answer)</p></summary><div><div class="collapsibleContent_i85q"><p><strong>Answer</strong>(Pending)</p><ol><li>relation lectures with combined attrs</li><li>create indexes on join attrs (mention that we&#x27;ll auto create indexes)</li><li>join + select + project operations</li></ol></div></div></details><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture">​</a></h2><p>You must now have an understanding of the functionalities provided to you by NITCbase and how they are represented in a lower level. We can now get into the finer details of our architecture. NITCbase has a 7-layer object-oriented architecture with each layer specialising in some operation. <strong>Take a look at the <a href="/docs/Design/Architecture">architecture</a> page before proceeding further</strong>. You don&#x27;t need to understand everything mentioned there at this point. You could also take a look at the <a href="/docs/Design/DesignDiagram">system design</a> to get a detailed idea about the flow of information between layers.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="the-xfs-interface">The XFS Interface<a href="#the-xfs-interface" class="hash-link" aria-label="Direct link to The XFS Interface" title="Direct link to The XFS Interface">​</a></h2><p>The XFS interface also supports all these commands. pending.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Roadmap/Stage02"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Stage 2: Disk Data Structures and Operations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#schema-operations" class="table-of-contents__link toc-highlight">Schema Operations</a></li><li><a href="#algebra-operations" class="table-of-contents__link toc-highlight">Algebra Operations</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#the-xfs-interface" class="table-of-contents__link toc-highlight">The XFS Interface</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/AboutUs">About Us</a></li><li class="footer__item"><a href="https://github.com/Nitcbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 National Institute of Technology Calicut. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2f547842.js"></script>
<script src="/assets/js/main.96397bd8.js"></script>
</body>
</html>