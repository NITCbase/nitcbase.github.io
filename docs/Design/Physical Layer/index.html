<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Design/Physical Layer">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Physical Layer | NITCbase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nitcbase.github.io/docs/Design/Physical Layer"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Physical Layer | NITCbase"><meta data-rh="true" name="description" content="The disk binary file that simulates the NITCbase disk (and the run copy of disk called diskruncopy) is located in the Disk/ directory."><meta data-rh="true" property="og:description" content="The disk binary file that simulates the NITCbase disk (and the run copy of disk called diskruncopy) is located in the Disk/ directory."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nitcbase.github.io/docs/Design/Physical Layer"><link data-rh="true" rel="alternate" href="https://nitcbase.github.io/docs/Design/Physical Layer" hreflang="en"><link data-rh="true" rel="alternate" href="https://nitcbase.github.io/docs/Design/Physical Layer" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/feedback/rss.xml" title="NITCbase RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/feedback/atom.xml" title="NITCbase Atom Feed">





<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1927f7db.css">
<link rel="preload" href="/assets/js/runtime~main.c27b013b.js" as="script">
<link rel="preload" href="/assets/js/main.c932a2e5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">NITCbase</b></a><a class="navbar__item navbar__link" href="/docs/Roadmap/">Roadmap</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Design/Architecture">Design</a><a class="navbar__item navbar__link" href="/docs/User Interface Commands/">Commands</a><a class="navbar__item navbar__link" href="/docs/Misc/">Miscellaneous</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/feedback">Feedback</a><a class="navbar__item navbar__link" href="/AboutUs">About Us</a><a href="https://github.com/nitcbase" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--dark_i4oU"><b>NITCbase</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Design/Architecture">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Design/DesignDiagram">System Design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Design/Frontend">Frontend Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Design/Algebra Layer">Algebra Layer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Design/Schema Layer">Schema Layer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Design/Block Access Layer">Block Access Layer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Design/B+ Tree Layer">B+ Tree Layer</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Design/Cache Layer/intro">Cache Layer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Design/Buffer Layer/intro">Buffer Layer</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/Design/Physical Layer">Physical Layer</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Physical Layer</h1></header><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>NOTE</div><div class="admonitionContent_S0QG"><p>The <code>disk</code> binary file that simulates the NITCbase disk (and the run copy of disk called <code>disk_run_copy</code>) is located in the <code>Disk/</code> directory.
The C++ Disk class that initiates the run copy of disk and also provides read/write access to the disk is located in the <code>Disk.cpp</code> file of <code>Disk_Class/</code> directory. <a href="https://github.com/NITCbase/nitcbase/blob/master/Disk_Class/Disk.cpp" target="_blank" rel="noopener noreferrer"><strong>The Disk Class has been fully implemented and the code can be found here.</strong></a></p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk-model">Disk Model<a href="#disk-model" class="hash-link" aria-label="Direct link to Disk Model" title="Direct link to Disk Model">​</a></h2><p>NITCbase assumes that the disk is a sequence of blocks, and a block is a sequence of bytes. The disk consists of <strong>8192 blocks</strong>, and each block is of <strong>2048 bytes</strong>, resulting in a total of 16MB of storage. Disk blocks are <strong>indexed from 0 to 8191.</strong></p><p><strong>Block Allocation Map</strong> tells us whether a particular block is <strong>free</strong> or <strong>occupied</strong>. If occupied, it stores the type (<a href="/docs/constants"><code>REC</code> / <code>IND_INTERNAL</code> / <code>IND_LEAF</code> / <code>BMAP</code></a>) of the block. <em>It requires one byte per each block</em>. <strong>Hence a total of 8192 / 2048 = 4 blocks are required for Block Allocation Map</strong>. The following figure summarizes the disk structure.</p><br><img loading="lazy" src="/img/DiskModel.png" style="max-width:700px" class="img_ev3q"><br><p>Blocks 0-3 are reserved for storing <em>Block Allocation Map</em>, whereas Blocks 4 and 5 are reserved for storing the block of <a href="#relation-catalog">Relation Catalog</a> and the first block of <a href="#attribute-catalog">Attribute Catalog</a>, respectively.</p><p>Since the first four blocks of the disk are used for storing the Block Allocation Map, <strong>the first four entries in the Block Allocation Map are marked as occupied</strong> by setting the values to <code>BMAP</code>.
This is done when the XFS interface command of <a href="/docs/User Interface Commands/efs#format-disk"><code>fdisk</code></a> is executed to generate the disk file. Marking of block 4 and block 5 as <code>REC</code> type in Block Allocation Map is also done during the <code>fdisk</code> command.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk-class">Disk Class<a href="#disk-class" class="hash-link" aria-label="Direct link to Disk Class" title="Direct link to Disk Class">​</a></h2><p>Higher layers access the disk through the disk class. <strong>The class contains a constructor, a destructor, a function to read from the disk</strong>(<a href="#disk--readblock"><code>readBlock</code></a>), <strong>and a function to write to the disk</strong> (<a href="#disk--writeblock"><code>writeBlock</code></a>).</p><p>Out of these functions, <code>readBlock</code> and <code>writeBlock</code> are <code>static</code>. C++ allows static functions to be accessed using the semantics <code>classname::functionname()</code> (instead of <code>objectinstance -&gt; functionname()</code> as in the case of methods that are not declared statically), thus enabling to access the disk functions without referring to specific class instances / objects.</p><p><strong>These are the only functions through which the disk can be accessed.</strong> These functions are supplied to you in the NITCbase package, and hence you do not need to implement them. A single object of the class needs to be declared at the start of the session, whose sole purpose is to run the constructor and the destructor of the class.</p><div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-cpp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">Disk</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">Disk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">~</span><span class="token function" style="color:rgb(80, 250, 123)">Disk</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">readBlock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">block</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> blockNum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">writeBlock</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token plain"> </span><span class="token operator">*</span><span class="token plain">block</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> blockNum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk--disk">Disk :: Disk()<a href="#disk--disk" class="hash-link" aria-label="Direct link to Disk :: Disk()" title="Direct link to Disk :: Disk()">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description">Description<a href="#description" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Used to make a temporary copy of the disk contents before the starting of a new session. This ensures that if the system has a forced shutdown during the course of the session, the previous state of the disk is not lost.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="arguments">Arguments<a href="#arguments" class="hash-link" aria-label="Direct link to Arguments" title="Direct link to Arguments">​</a></h4><p>Nil</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="return-values">Return Values<a href="#return-values" class="hash-link" aria-label="Direct link to Return Values" title="Direct link to Return Values">​</a></h4><p>Nil</p><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk--disk-1">Disk :: ~Disk()<a href="#disk--disk-1" class="hash-link" aria-label="Direct link to Disk :: ~Disk()" title="Direct link to Disk :: ~Disk()">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-1">Description<a href="#description-1" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Used to update the changes made to the disk on graceful termination of the latest session. This ensures that these changes are visible in future sessions.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="arguments-1">Arguments<a href="#arguments-1" class="hash-link" aria-label="Direct link to Arguments" title="Direct link to Arguments">​</a></h4><p>Nil</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="return-values-1">Return Values<a href="#return-values-1" class="hash-link" aria-label="Direct link to Return Values" title="Direct link to Return Values">​</a></h4><p>Nil</p><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk--readblock">Disk :: readBlock()<a href="#disk--readblock" class="hash-link" aria-label="Direct link to Disk :: readBlock()" title="Direct link to Disk :: readBlock()">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-2">Description<a href="#description-2" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Transfers the contents of the specified disk block to the input memory buffer. Used in buffer layer to load disk block to buffer.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Higher layers must allocate memory for the unsigned character array of size 2048 before passing its pointer to the function.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="arguments-2">Arguments<a href="#arguments-2" class="hash-link" aria-label="Direct link to Arguments" title="Direct link to Arguments">​</a></h4><table><thead><tr><th><strong>Name</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td>buffer</td><td><code>unsigned char*</code></td><td>Memory pointer of the buffer to which the block contents is to be loaded/read.</td></tr><tr><td>blockNum</td><td><code>int</code></td><td>Block number of the disk block to be read.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="return-values-2">Return Values<a href="#return-values-2" class="hash-link" aria-label="Direct link to Return Values" title="Direct link to Return Values">​</a></h4><table><thead><tr><th><strong>Value</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><a href="/docs/constants"><code>SUCCESS</code></a></td><td>Successful loading/reading of the block to the buffer.</td></tr><tr><td><a href="/docs/constants"><code>E_OUTOFBOUND</code></a></td><td>Block number is out of range.</td></tr></tbody></table><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="disk--writeblock">Disk :: writeBlock()<a href="#disk--writeblock" class="hash-link" aria-label="Direct link to Disk :: writeBlock()" title="Direct link to Disk :: writeBlock()">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="description-3">Description<a href="#description-3" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h4><p>Transfers the contents of the input memory buffer memory buffer to the specified disk block. Used in buffer layer to write buffer contents to disk.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Higher layers must allocate memory for the unsigned character array of size 2048 before passing its pointer to the function.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="arguments-3">Arguments<a href="#arguments-3" class="hash-link" aria-label="Direct link to Arguments" title="Direct link to Arguments">​</a></h4><table><thead><tr><th><strong>Name</strong></th><th><strong>Type</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td>buffer</td><td><code>unsigned char*</code></td><td>Memory pointer of the buffer from which contents is to be written to the block.</td></tr><tr><td>blockNum</td><td><code>int</code></td><td>Block number of the disk block to be written to.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="return-values-3">Return Values<a href="#return-values-3" class="hash-link" aria-label="Direct link to Return Values" title="Direct link to Return Values">​</a></h4><table><thead><tr><th><strong>Value</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><a href="/docs/constants"><code>SUCCESS</code></a></td><td>Successful writing of the block to the disk.</td></tr><tr><td><a href="/docs/constants"><code>E_OUTOFBOUND</code></a></td><td>Block number is out of range.</td></tr></tbody></table><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="blocks-and-block-types">Blocks and Block Types<a href="#blocks-and-block-types" class="hash-link" aria-label="Direct link to Blocks and Block Types" title="Direct link to Blocks and Block Types">​</a></h2><p>NITCbase assumes that the disk is a sequence of blocks, and a block is a sequence of bytes. Apart from the four initial blocks (Block Numbers 0 to 3 which are used for the Block Allocation Map), each block can only be one of the following <em>three</em> types based on the type of information being stored:</p><ol><li><a href="#record-block-structure">Record Block</a></li><li><a href="#internal-index-block-structure">Internal Index Block</a></li><li><a href="#leaf-index-block-structure">Leaf Index Block</a></li></ol><p>The structure and function of each block type is explained below.</p><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="record-block-structure">Record block structure<a href="#record-block-structure" class="hash-link" aria-label="Direct link to Record block structure" title="Direct link to Record block structure">​</a></h3><p>NITCbase is a collection of relations, and each relation is a collection of records. The DBMS must store relations in the disk and the strategy is to store each relation in a set of blocks in the disk, organized as a linked list. Each block in such a linked list will be called a <strong>record block</strong>. The block will contain some metadata as well, for instance, the indices of the left block and right blocks in the linked list.</p><p>Records in a relation are composed of fields known as <em>attributes</em>, each of which contains one item of information. <strong>NITCbase fixes the size of attribute as 16 bytes</strong>, but the <strong>records of a relation can be of variable size</strong> - varying from 16 bytes (for a record with single attribute) to the size of the larget record that can fit into a block.</p><p><em>A record block stores the actual data records.</em> In addition to data records, some metadata is also stored in the <strong>preamble/header</strong> of each block.</p><p>The following figure shows the record block structure for a relation with <code>K</code> attributes. Let L be the number of records stored in a block (given <code>K</code>, <code>L</code> can be determined, which is explained later.). Since each attribute requires 16 bytes of storage space, to store each record of this relation <code>16 * K bytes</code> must be allocated.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>In real-world database systems, the <em>size of an attribute will vary depending on the type of the attribute</em>. For instance, an integer type attribute will require less storage space than a string type attribute.</p><p>In NITCbase, <em>we fix the size of all attributes to the same value to simplify the implementation.</em> It is a conceptually straightforward (but cumbersome from the point of implementation) task to modify the DBMS to support variable-sized attributes.</p></div></div><br><p><img loading="lazy" alt="&amp;quot;Record Block&amp;quot;" src="/assets/images/RecordBlock-7fae18c5d2159ee57eaec519d799fcfd.png" width="10815" height="6221" class="img_ev3q"></p><ul><li>First four bytes (0-3) of header are used to identify the type of block (<code>REC</code> / <code>IND_INTERNAL</code> / <code>IND_LEAF</code>) where <a href="/docs/constants"><code>REC</code></a> represents a record block.</li><li>Next four bytes (4-7) are used for storing parent block pointer, which has no significance for a record block and can be set to <code>-1</code>.</li><li>Bytes 8-11 and 12-15 are used for storing left and right block numbers respectively.</li><li>Next four bytes are used for storing the number of records currently stored in the block.</li><li>Bytes 20-23 and 24-27 are used for storing <code>#Attr</code> (Number of attributes of the records of the relation that are stored in this block) and <code>#Slots</code> (Number of slots in this block) respectively.</li><li>Bytes 28-31 are reserved for future use.</li></ul><p><strong>Each record block is divided into slots of variable record size. Each slot stores a single record</strong> (and hence requires <code>16 * K bytes</code> for a relation with <code>K</code> attributes). Each block can have an arbitrary number of slots depending on the number of attributes in the relation. Number of slots (Maximum number of records, <code>L</code>) that fits in a block for any given relation can be calculated as:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>32</mn><mo>+</mo><mi>L</mi><mo>+</mo><mi>L</mi><mo>∗</mo><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mi>K</mi><mo stretchy="false">)</mo><mo>≤</mo><mn>2048</mn><mspace linebreak="newline"></mspace><mi>L</mi><mo>∗</mo><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mi>K</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>≤</mo><mn>2016</mn><mspace linebreak="newline"></mspace><mi mathvariant="normal">#</mi><mi>S</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mo>=</mo><mi>L</mi><mo>=</mo><mrow><mo fence="true">⌊</mo><mfrac><mn>2016</mn><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mi mathvariant="normal">#</mi><mi>A</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>b</mi><mi>u</mi><mi>t</mi><mi>e</mi><mi>s</mi><mo stretchy="false">(</mo><mi>K</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mfrac><mo fence="true">⌋</mo></mrow></mrow><annotation encoding="application/x-tex">32+L+L*(16*K) \leq 2048 \\ L*(16*K + 1 ) \leq 2016 \\ \#Slots = L = \left \lfloor \frac {2016} {((16 * \#Attributes(K)) + 1)} \right \rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">32</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2048</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2016</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">#</span><span class="mord mathnormal" style="margin-right:0.01968em">Sl</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">((</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">#</span><span class="mord mathnormal">A</span><span class="mord mathnormal">tt</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">ib</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">es</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2016</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌋</span></span></span></span></span></span></span></div><p>The <strong>slotmap</strong>, which appears at the end of the header is used for <em>indicating whether a slot is occupied or free</em>. Size of the slotmap is equal to the number of slots, <code>L</code>, that fits in the block. If a slot is free, its corresponding entry in slotmap will be <a href="/docs/constants"><code>SLOT_UNOCCUPIED</code></a> or else it will be <a href="/docs/constants"><code>SLOT_OCCUPIED</code></a>. Slotmap starts from byte 32 of the header followed by slots which store the actual records. Some amount of space may be left unused at the end whose size is less than the size of a record.</p><p>The record block must be loaded from the disk to the main memory before its data can be accessed/modified. The Buffer Layer provides the necessary data structures for this purpose. The RecBuffer class is used to access a record block. The header of the block is stored in the struct HeadInfo. Each record in a record block is treated as an array of union Attributes.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Question 1</div><div class="admonitionContent_S0QG"><p><strong>Q1</strong>. Calculate the number of slots and slotmap size for a relation with 5 attributes.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>View solution</summary><div><div class="collapsibleContent_i85q"><p></p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">#</mi><mi>S</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mo>=</mo><mrow><mo fence="true">⌊</mo><mfrac><mn>2016</mn><mrow><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mn>5</mn><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow></mfrac><mo fence="true">⌋</mo></mrow><mo>=</mo><mn>24</mn></mrow><annotation encoding="application/x-tex">\#Slots = \left \lfloor \frac{2016}{(16*5)+1} \right \rfloor = 24</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">#</span><span class="mord mathnormal" style="margin-right:0.01968em">Sl</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">(</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">5</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">1</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2016</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌋</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">24</span></span></span></span></span></div><ul><li>Since the slotmap size is equal to the number of slots in a block, <em>slotmap size = 24 bytes</em>.</li></ul><p></p></div></div></details></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Question 2</div><div class="admonitionContent_S0QG"><p><strong>Q2</strong>. What is the maximum number of attributes possible for a relation in NITCbase?</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>View solution</summary><div><div class="collapsibleContent_i85q"><p></p><p>In NITCbase, size of the record in any relation is bounded by the size of a block. Hence the number of attributes is maximum when a record fits in a block.
It is calculated as:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mn>16</mn><mo>∗</mo><mi>K</mi><mo>+</mo><mn>1</mn><mo>≤</mo><mn>2016</mn><mspace linebreak="newline"></mspace><mi>K</mi><mo>=</mo><mrow><mo fence="true">⌊</mo><mfrac><mn>2015</mn><mn>16</mn></mfrac><mo fence="true">⌋</mo></mrow><mspace linebreak="newline"></mspace><mi>K</mi><mo>=</mo><mn>125</mn><mspace linebreak="newline"></mspace></mrow><annotation encoding="application/x-tex">16*K+1 \leq 2016 \\ K = \left \lfloor \frac{2015}{16} \right \rfloor \\ K = 125 \\</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7804em;vertical-align:-0.136em"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2016</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">16</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2015</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌋</span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">125</span></span><span class="mspace newline"></span></span></span></span></div><p></p></div></div></details></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Question 3</div><div class="admonitionContent_S0QG"><p><strong>Q3</strong>. What is the maximum number of slots possible for a record block in NITCbase?</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>View solution</summary><div><div class="collapsibleContent_i85q"><p></p><p>A record block has the maximum number of slots when number of attributes of the corresponding relation is 1. Hence the maximum number of slots can be calculated as 118.</p><p></p></div></div></details></div></div><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="internal-index-block-structure">Internal Index Block Structure<a href="#internal-index-block-structure" class="hash-link" aria-label="Direct link to Internal Index Block Structure" title="Direct link to Internal Index Block Structure">​</a></h3><p>NITCbase uses the <a href="/docs/Misc/B+ Trees">B+ tree</a> data structure for indexing records in a relation. <em>The DBMS may maintain zero or more indices per relation</em>. There are <strong>two types</strong> of nodes for a B+ tree. These are called internal nodes and leaf nodes. A disk block that stores an internal node of the B+ tree is called an <strong>Internal Index block</strong>.</p><p><em>Each internal index block in NITCbase stores a maximum of 100 attribute(key) values. Each of these values has an associated pair of left and right child pointers. Hence each internal index block is also required to store 101 child pointers (Only 101 child pointers are required because the right child of one value is the same as the left child of the next value).</em></p><br><p><img loading="lazy" alt="&amp;quot;Internal Index Block&amp;quot;" src="/assets/images/InternalIndexBlock-998021b6077326dae2766b8e6cca9d86.png" width="8280" height="5271" class="img_ev3q"></p><p>An Internal index block is divided into two parts. The first 32 bytes stores header followed by actual attribute(key) values and child pointers arranged alternatively as shown in the figure. The header metadata is similar to that of a record block. The first four bytes of the header stores the value <a href="/docs/constants"><code>INDINT</code></a>. <code>PBlock</code> is the block number of parent block in the corresponding B+ tree. <code>LBlock</code> and <code>RBlock</code> have no significance for an internal index block. <code>#Entries</code> field stores the actual number of attribute values (of maximum 100) stored in the block. <code>#Attrs</code> and <code>#Slots</code> fields also have no significance for an internal index block. The remaining space in the header is left unused.</p><p>The Internal index block must be loaded from the disk to the main memory before its data can be accessed/modified. The <a href="/docs/Design/Buffer Layer/intro">Buffer Layer</a> provides the necessary data structures for this purpose. The <a href="/docs/Design/Buffer Layer/IndBuffer#class-indinternal">IndInternal class</a> is used to access a internal index block. The header of the block is stored in the <a href="/docs/Design/Buffer Layer/intro#headinfo">struct HeadInfo</a>. Each entry in an internal index block is accessed through a structure <a href="/docs/Design/Buffer Layer/intro#internalentry">struct InternalEntry</a>.</p><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="leaf-index-block-structure">Leaf Index Block Structure<a href="#leaf-index-block-structure" class="hash-link" aria-label="Direct link to Leaf Index Block Structure" title="Direct link to Leaf Index Block Structure">​</a></h3><p><strong>A leaf node in the B+ tree stores the actual indices for the records in a relation</strong>. A disk block that stores a leaf node of a B+ tree is called a leaf index Block. <em>Each leaf index block in NITCbase stores a maximum of 63 indices</em>. An index is a 3-tuple: <code>(attribute value, block number, slot number)</code>. The size of an index in NITCbase is 32 bytes (the last 8 bytes are unused)</p><p><img loading="lazy" alt="&amp;quot;Leaf Index Block&amp;quot;" src="/assets/images/LeafIndexBlock-5c1a1a632e8f594c1de3a53ad86d49cb.png" width="7769" height="5624" class="img_ev3q"></p><p>Any Leaf Index Block is also divided into a header part of 32 bytes followed by a part containing actual indices. The header is similar to that of any other block. The first four bytes of the header stores the value <a href="/docs/constants"><code>INDLEAF</code></a>. <code>PBlock</code> is the block number of the parent block in the corresponding B+ tree. This entry must always contain block number of an Internal Index block. Since all leaf nodes are connected in a B+ tree, <code>LBlock</code> and <code>RBlock</code> point to left and right Leaf Index blocks respectively. <code>#Entries</code> stores the actual number of indices (of maximum 63) stored in the block. <code>#Attrs</code> and <code>#Slots</code> fields have no significance for a Leaf index block. The remaining space in the header is left unused.</p><p>The Leaf index block must be loaded from the disk to the main memory before its data can be accessed/modified. The <a href="/docs/Design/Buffer Layer/intro">Buffer Layer</a> provides the necessary data structures for this purpose. The <a href="/docs/Design/Buffer Layer/IndBuffer#class-indleaf">IndLeaf class</a> is used to access a leaf index block. The header of the block is stored in the <a href="/docs/Design/Buffer Layer/intro#headinfo">struct HeadInfo</a>. Each entry in a leaf index block is accessed through a structure <a href="/docs/Design/Buffer Layer/intro#index">struct Index</a>.</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="catalog-structures">Catalog Structures<a href="#catalog-structures" class="hash-link" aria-label="Direct link to Catalog Structures" title="Direct link to Catalog Structures">​</a></h2><p>NITCbase maintains two catalogs in the disk for storing metadata information about relations, attributes, indices, etc. These catalogs are:</p><ol><li>Relation Catalog</li><li>Attribute Catalog</li></ol><p>In an RDBMS,</p><ul><li>A relation refers to a collection of records where each record is an n-tuple of attribute values.</li><li>An attribute is a column or a field in a relation.</li><li>A database is a collection of relations.</li></ul><p><em>NITCbase organizes these catalogs as relations. Hence the block structures used for the catalogs are record block structures.</em></p><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="relation-catalog">Relation Catalog<a href="#relation-catalog" class="hash-link" aria-label="Direct link to Relation Catalog" title="Direct link to Relation Catalog">​</a></h3><p>NITCbase has alloted <em>a single block</em> for the storage of Relation Catalog. <strong>Block 4 of the disk is used for this purpose</strong>.</p><p>Relation Catalog is used for storing meta-information of the relations in a database. Each entry in the Relation Catalog has a <em>size of 96 bytes</em> and has the following six attributes:</p><ol><li><code>RelName</code></li><li><code>#Attributes</code></li><li><code>#Records</code></li><li><code>FirstBlock</code></li><li><code>LastBlock</code></li><li><code>#Slots</code></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The name strings for the relation catalog attributes and attribute catalog attributes are defined in the <a href="/docs/constants">global constants page</a>.
For example to do linear search on the relation catalog where relation name matches a particular relaiton name, you must provide the attribute name argument as &quot;RelName&quot; / <code>RELCAT_ATTR_RELNAME</code> constant.</p></div></div><p><code>RelName</code> (bytes 0-15) stores the name of the relation, <code>#Attributes</code> (bytes 16-31) stores the number of attributes of that relation, and <code>#Records</code> (bytes 32-47) stores the number of records currently stored in that relation. The record blocks of a relation are arranged as a linked list.</p><p><code>FirstBlock</code> (bytes 48-63), which stores the block number of the first record block of the relation, essentially points to the head of the linked list. <code>LastBlock</code> (bytes 64-79), which stores the block number of the last record block of the relation, indicates the tail of the linked list. <code>#Slots</code> (bytes 80-95) stores the number of slots a record block of that relation has.</p><p>Note that <code>#Slots</code> can be calculated from <code>#Attributes</code> as described <a href="#record-block-structure">earlier</a>.</p><p><img loading="lazy" alt="relcat" src="/assets/images/relcat-ce6bf788453484b0d58acdffcb2e6c5e.png" width="7343" height="4752" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Since the Relation Catalog is internally implemented as a relation, it&#x27;s block structure is identical to that of any record block with <strong>six</strong> attributes.</p></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Question 1</div><div class="admonitionContent_S0QG"><p><strong>Q1</strong>. What are the values of the header fields <code>#Attrs</code> and <code>#Slots</code> for a Relation Catalog block?</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>View solution</summary><div><div class="collapsibleContent_i85q"><p></p><p><code>#Attrs</code> = 6</p><p><code>#Slots</code> = <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mo fence="true">⌊</mo><mfrac><mn>2016</mn><mrow><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mn>6</mn><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow></mfrac><mo fence="true">⌋</mo></mrow><mo>=</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">\left \lfloor \frac{2016}{(16*6)+1} \right \rfloor = 20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.8em;vertical-align:-0.65em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size2">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">16</span><span class="mbin mtight">∗</span><span class="mord mtight">6</span><span class="mclose mtight">)</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2016</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size2">⌋</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">20</span></span></span></span></span></p><p></p></div></div></details></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Question 2</div><div class="admonitionContent_S0QG"><p><strong>Q2</strong>. What is the minimum number of entries allowed in the Relation Catalog? What relations do these entries correspond to?</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>View solution</summary><div><div class="collapsibleContent_i85q"><p></p><p><strong>The minimum number of entries in the Relation Catalog is two</strong>, even in the absence of other relations in the database. These entries correspond to Relation Catalog and Attribute Catalog since they are also treated as relations and should be in the disk at all times. Thus, <strong>the maximum number of relations allowed in NITCbase is 18 (why?).</strong></p><p></p></div></div></details></div></div><hr><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="attribute-catalog">Attribute Catalog<a href="#attribute-catalog" class="hash-link" aria-label="Direct link to Attribute Catalog" title="Direct link to Attribute Catalog">​</a></h3><p>Attribute Catalog stores meta-information regarding all the attributes of each relation. NITCbase allows Attribute Catalog to be stored over multiple blocks arranged as a linked list.</p><p>The <code>LBlock</code> and <code>RBlock</code> fields in the header are used to traverse the linked list.
Each entry of the Attribute Catalog has the following six attributes:</p><ol><li><code>RelName</code></li><li><code>AttributeName</code></li><li><code>AttributeType</code></li><li><code>PrimaryFlag</code></li><li><code>RootBlock</code></li><li><code>Offset</code></li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The name strings for the relation catalog attributes and attribute catalog attributes are defined in the <a href="/docs/constants">global constants page</a>.
For example to do linear search on the attribute catalog where attribute name matches a particular attrbute name, you must provide the attribute name argument as &quot;AttributeName&quot; / <code>ATTRCAT_ATTR_ATTRIBUTE_NAME</code> constant.</p></div></div><p><code>RelName</code> is the name of the relation corresponding to the attribute, <code>AttributeName</code> is the name of the attribute and <code>AttributeType</code> is the data type of the attribute. Only two data types are permitted in NITCbase- numbers (<code>NUM</code>) and strings (<code>STR</code>) of maximum length 16. The <code>PrimaryFlag</code> is presently unused <!-- -->*<!-- -->.</p><p>NITCbase employes <a href="/docs/Misc/B+ Trees">B+ tree</a> for indexing. <code>RootBlock</code> stores the root block number of the B+ tree if there is an index created on the attribute; and contains <code>-1</code> otherwise. <code>Offset</code> is an integer that specifies the relative offset of the attribute in the record (0 for the first attribute, 1 for the second attribute and so on).</p><p>*<!-- --> At present, <strong>NITCbase does not support the notion of a <a href="https://en.wikipedia.org/wiki/Primary_key" target="_blank" rel="noopener noreferrer">primary key</a></strong>. The <code>flag</code> is kept in the slot for future support of primary keys.</p><p><img loading="lazy" alt="attcat" src="/assets/images/attrcat-d8ae7659984efcf43ed47d87d9bfdd03.png" width="7343" height="4752" class="img_ev3q"></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><ol><li>Attribute Catalog is internally implemented as a relation. Hence, it&#x27;s block structure is identical to that of any record block with six attributes.</li><li>NITCbase does not create indices for accessing the Attribute Catalog and Relation Catalog. Access to these catalogs is possible only through a sequential search of the record blocks of the respective catalogs.</li></ol></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Question 1</div><div class="admonitionContent_S0QG"><p><strong>Q1</strong>. What is the minimum number of entries allowed in the Attribute Catalog? What relations and attributes do these entries correspond to?</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>View solution</summary><div><div class="collapsibleContent_i85q"><p></p><p><strong>The minimum number of entries in the attribute catalog is 12</strong>, even in the absence of other relations in the database. 6 out of these 12 correspond to the 6 attributes of Relation Catalog and the remaining 6 corresponds to the 6 attributes of Attribute Catalog. This is because the catalogs are also treated as relations and should be in the disk at all times.</p><p></p></div></div></details></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Design/Buffer Layer/IndBuffer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">classes IndBuffer, IndInternal, IndLeaf</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#disk-model" class="table-of-contents__link toc-highlight">Disk Model</a></li><li><a href="#disk-class" class="table-of-contents__link toc-highlight">Disk Class</a><ul><li><a href="#disk--disk" class="table-of-contents__link toc-highlight">Disk :: Disk()</a></li><li><a href="#disk--disk-1" class="table-of-contents__link toc-highlight">Disk :: ~Disk()</a></li><li><a href="#disk--readblock" class="table-of-contents__link toc-highlight">Disk :: readBlock()</a></li><li><a href="#disk--writeblock" class="table-of-contents__link toc-highlight">Disk :: writeBlock()</a></li></ul></li><li><a href="#blocks-and-block-types" class="table-of-contents__link toc-highlight">Blocks and Block Types</a><ul><li><a href="#record-block-structure" class="table-of-contents__link toc-highlight">Record block structure</a></li><li><a href="#internal-index-block-structure" class="table-of-contents__link toc-highlight">Internal Index Block Structure</a></li><li><a href="#leaf-index-block-structure" class="table-of-contents__link toc-highlight">Leaf Index Block Structure</a></li></ul></li><li><a href="#catalog-structures" class="table-of-contents__link toc-highlight">Catalog Structures</a><ul><li><a href="#relation-catalog" class="table-of-contents__link toc-highlight">Relation Catalog</a></li><li><a href="#attribute-catalog" class="table-of-contents__link toc-highlight">Attribute Catalog</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/AboutUs">About Us</a></li><li class="footer__item"><a href="https://github.com/NITCbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 National Institute of Technology Calicut. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c27b013b.js"></script>
<script src="/assets/js/main.c932a2e5.js"></script>
</body>
</html>