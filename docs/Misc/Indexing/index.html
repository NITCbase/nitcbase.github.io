<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Misc/Indexing">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Indexing in NITCbase | NITCbase</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nitcbase.github.io/docs/Misc/Indexing"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Indexing in NITCbase | NITCbase"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://nitcbase.github.io/docs/Misc/Indexing"><link data-rh="true" rel="alternate" href="https://nitcbase.github.io/docs/Misc/Indexing" hreflang="en"><link data-rh="true" rel="alternate" href="https://nitcbase.github.io/docs/Misc/Indexing" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/feedback/rss.xml" title="NITCbase RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/feedback/atom.xml" title="NITCbase Atom Feed">




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.d1142a38.css">
<link rel="preload" href="/assets/js/runtime~main.05c28bfc.js" as="script">
<link rel="preload" href="/assets/js/main.25169539.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#d4d4d4;color:##fc4069" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">This website is under construction.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">NITCbase</b></a><a class="navbar__item navbar__link" href="/docs/Design/Architecture">Design</a><a class="navbar__item navbar__link" href="/docs/Roadmap/introduction">Roadmap</a><a class="navbar__item navbar__link" href="/docs/User Interface Commands/introduction">NITCbase Commands</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Misc/Installation Guidelines">Miscellaneous</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/feedback">Feedback</a><a class="navbar__item navbar__link" href="/AboutUs">About Us</a><a href="https://github.com/nitcbase" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="NITCbase" class="themedImage_ToTc themedImage--dark_i4oU"><b>NITCbase</b></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Misc/Installation Guidelines">Installation Guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Misc/DockerSetup">Docker Based Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Misc/XFS Interface">XFS Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Misc/B+ Trees">B+ Trees</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/Misc/Indexing">Indexing in NITCbase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Misc/GDB">GNU Debugger(GDB)</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Indexing in NITCbase</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>A database consists of a collection of files where each file contains a sequence of records corresponding to a relation. These records spread across several blocks when stored in the disk, depending on the number of records that can fit into a block. A block also contains a pointer to the next block of the file, allowing sequential search on the records of a file. A relation is defined by a set of attributes. Each record is a set of values corresponding to those attributes.</p><p>On developing a database of our own, it is essential that we have access to records stored in the disk without much time delay. Disk access is a high-latency operation. Therefore, as the size of relation increases, searching records that satisfy certain conditions by accessing every record in the disk blocks, can adversely affect the performance. This necessitates indexing.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="understanding-indexing">Understanding Indexing<a class="hash-link" href="#understanding-indexing" title="Direct link to heading">​</a></h2><p>Creating an index on an attribute of a relation is basically creating a data structure that holds the attribute value and a pointer to the records. It enables us to speed up the retrieval of records in response to certain search conditions on the attribute value. An <strong>index</strong> in a database is very much like the index in a book. And, just as a book&#x27;s index points to locations within the book, a database&#x27;s index points to records within the disk. The database organizes the indices such that these pointer values can be found extremely fast. And, once the database has located the desired set of pointer values, it can then turn around and quickly read the full record. In the end, a database index is a means to locate and read table data as quickly as possible.</p><p>Consider a query to fetch records with a particular attribute value greater than X. Suppose, you create an index for that attribute. When a new index is created for a (relation, attribute) pair, the database system creates a new data structure which is again stored in different blocks in the disk, say Index Blocks. For a given value of the attribute, this disk data structure helps us to locate the data block(s) that contain the records of the relation with the attribute value that satisfies our search condition(attribute value &gt;X). Consequently, we require much lesser number of disk accesses than a linear search on the blocks of the file.</p><p>Thus, the objective of creating an index on an (attribute, relation) pair, is to make search operation on a relation for records with attribute value that satisfy a search condition, faster than linear search on the blocks of the file. If n is the number of records in a file, the time required to search based on an attribute is only O(log n) whereas it would take O(n) time for a linear search in the absence of an index. Creating an index itself is an expensive operation requiring O(n) time and space. Hence indices are normally created only on those attributes on which frequent queries are performed on in the database.</p><p>As index is a collection of attribute values and their corresponding record pointers, the <strong>structure of the index</strong> plays a key role in determining how fast the index can be accessed and the kind of queries that can be processed. Perhaps one of the most common types of index structures is the <strong><a href="/docs/Misc/B+ Trees">B+ Tree</a></strong>. It is a self-balancing, sorted variation on the binary tree structure that stores the index values in a relatively shallow but wide shape. NITCbase uses B+ Tree for indexing records.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="btree-implementation-in-nitcbase">B+Tree Implementation in NITCbase<a class="hash-link" href="#btree-implementation-in-nitcbase" title="Direct link to heading">​</a></h2><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>PREREQUISITE READING</div><div class="admonitionContent_S0QG"><ul><li><a href="/docs/Misc/B+ Trees">B+ Trees</a></li><li><a href="/docs/Design/Physical Layer">Physical Layer</a></li></ul></div></div><p>In NITCbase, each <a href="/docs/Design/Physical Layer#record-block-structure">record block</a> is of size 2048 bytes of which first 32 bytes is allocated for the header that gives the metadata of the block. Consider a record block structure for a relation with K attributes. The size allotted for an attribute is 16 bytes.
Number of slots (Maximum number of records, L) that fits in a Record block for any given relation can be calculated as:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">#</mi><mi>S</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mo>=</mo><mi>L</mi><mo>=</mo><mrow><mo fence="true">⌊</mo><mfrac><mn>2016</mn><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mi mathvariant="normal">#</mi><mi>A</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>b</mi><mi>u</mi><mi>t</mi><mi>e</mi><mi>s</mi><mo stretchy="false">(</mo><mi>K</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mfrac><mo fence="true">⌋</mo></mrow></mrow><annotation encoding="application/x-tex">\#Slots = L = \left \lfloor \frac {2016} {((16 * \#Attributes(K)) + 1)} \right \rfloor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">#</span><span class="mord mathnormal" style="margin-right:0.01968em">Sl</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">((</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">#</span><span class="mord mathnormal">A</span><span class="mord mathnormal">tt</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">ib</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">es</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2016</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌋</span></span></span></span></span></span></span></div><p>Suppose there are R records in the relation , we would require B block accesses(equivalent to the number of Record Blocks required to store the relation) in order to traverse through the entire relation.</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>B</mi><mo>=</mo><mi mathvariant="normal">#</mi><mi>R</mi><mi>e</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>d</mi><mtext> </mtext><mi>B</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>k</mi><mi>s</mi><mo>=</mo><mrow><mo fence="true">⌈</mo><mfrac><mi>R</mi><mi>L</mi></mfrac><mo fence="true">⌉</mo></mrow></mrow><annotation encoding="application/x-tex">B = \#Record\ Blocks = \left \lceil \frac {R} {L} \right \rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">#</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mord mathnormal" style="margin-right:0.02778em">ecor</span><span class="mord mathnormal">d</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em">Bl</span><span class="mord mathnormal">oc</span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌈</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">L</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em">R</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌉</span></span></span></span></span></span></span></div><p>As the size of the relation increases, this value B could be very large. In order to optimize the performance of the database by minimizing the number of disk accesses required when a search query is processed, indexing is used.</p><p>As mentioned earlier, NITCbase uses B+ tree data structure for indexing records in a relation. There are two types of nodes for a B+ tree. These are called internal nodes and leaf nodes. A disk block that stores an internal node of the B+ tree is called an <a href="/docs/Design/Physical Layer#internal-index-block-structure">Internal Index block</a>. Each internal index block in NITCBase stores a maximum of <strong>100</strong> attribute values. Each of these values has an associated pair of left and right child pointers. Since the right child of one value is the same as the left child of the next value each Internal Index block stores 101 child pointers.<br>
A leaf node in the B+ tree stores the actual record pointers for the records in a relation. Here, the Record Id(block number, slot number) acts as the record pointer. A disk block that stores a leaf node of a B+ tree is called a <a href="/docs/Design/Physical Layer#leaf-index-block-structure">Leaf Index Block</a> which is also of 2048 bytes with first 32 bytes storing the header. Each index stored in the leaf block is a 3-tuple occupying 32 bytes(attribute value-16 bytes, block number-4 bytes, slot number-4 bytes and 8 bytes of unused space). So the maximum number of leaf indices that can be stored in a Leaf Index Block is:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>M</mi><mi>a</mi><mi>x</mi><mi>i</mi><mi>m</mi><mi>u</mi><mi>m</mi><mi>L</mi><mi>e</mi><mi>a</mi><mi>f</mi><mi>E</mi><mi>n</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>e</mi><mi>s</mi><mo>=</mo><mrow><mo fence="true">⌊</mo><mfrac><mn>2016</mn><mn>32</mn></mfrac><mo fence="true">⌋</mo></mrow><mo>=</mo><mn>63</mn></mrow><annotation encoding="application/x-tex">Maximum Leaf Entries = \left \lfloor \frac {2016} {32} \right \rfloor = 63</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mord mathnormal">im</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal" style="margin-right:0.05764em">E</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">es</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">32</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2016</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌋</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">63</span></span></span></span></span></div><p>The size of an entry in Index Block is smaller than the size of a Record. So, the number of entries in an Index Block are considerably larger than the number of records that can be stored in a Record Block i.e number of slots. As a consequence, more number of records can be accessed through record pointers stored in an Index Block with respect to an attribute resulting in a much lesser disk block accesses to process a query.</p><p>Let us understand indexing in NITCbase with an example.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Question 1</div><div class="admonitionContent_S0QG"><p><strong>Q1</strong>. Consider a relation of 10 attributes(Attribute_1, Attribute_2,....., Attribute_10) containing 12,000 records. We need to process a query to fetch records with the value of Attribute_2 greater than X. Compare the number of disk accesses required in the presence and absence of an Index on Attribute_2.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>View solution</summary><div><div class="collapsibleContent_i85q"><p></p><p>The record block size is <strong>2048</strong> bytes.</p><p>Number of slots (Maximum number of records, L) that fits in a block for the given relation can be calculated as:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">#</mi><mi>S</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mo>=</mo><mi>L</mi><mo>=</mo><mrow><mo fence="true">⌊</mo><mfrac><mn>2016</mn><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mi mathvariant="normal">#</mi><mi>A</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>b</mi><mi>u</mi><mi>t</mi><mi>e</mi><mi>s</mi><mo stretchy="false">(</mo><mi>K</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mfrac><mo fence="true">⌋</mo></mrow><mspace linebreak="newline"></mspace><mo>=</mo><mrow><mo fence="true">⌊</mo><mfrac><mn>2016</mn><mrow><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mn>10</mn><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mfrac><mo fence="true">⌋</mo></mrow><mo>=</mo><mn>12</mn></mrow><annotation encoding="application/x-tex">\#Slots = L = \left \lfloor \frac {2016} {((16 * \#Attributes(K)) + 1)} \right \rfloor \\ = \left \lfloor \frac {2016} {(16 * 10 + 1)} \right \rfloor = 12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">#</span><span class="mord mathnormal" style="margin-right:0.01968em">Sl</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">((</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">#</span><span class="mord mathnormal">A</span><span class="mord mathnormal">tt</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">ib</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">es</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2016</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌋</span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">(</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">10</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2016</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌋</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">12</span></span></span></span></span></div><p>Therefore, the number of record blocks required to store the given relation is:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">#</mi><mi>R</mi><mi>e</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>B</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>k</mi><mi>s</mi><mo>=</mo><mrow><mo fence="true">⌈</mo><mfrac><mn>12000</mn><mn>12</mn></mfrac><mo fence="true">⌉</mo></mrow><mo>=</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">\#Record Blocks = \left \lceil \frac {12000} {12} \right \rceil = 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">#</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mord mathnormal" style="margin-right:0.02778em">ecor</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.01968em">Bl</span><span class="mord mathnormal">oc</span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌈</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">12</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">12000</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌉</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1000</span></span></span></span></span></div><p>To process our search query in the absence of an index, we need to fetch all the records from disk blocks one by one, and check if they satisfy our search condition <em>(<code>Attribute_2</code> &gt; X)</em>. This implies that the number of disk accesses required to process a query in the absence of an index is <strong>1000</strong>.</p><p>Suppose, an index is created on <code>Attribute_2</code> of this Relation. In NITCBase, the maximum number of entries in an Internal index block and Leaf index block are 100 and 63 respectively. When an Index Block is full, it is split into two, i.e a new Index Block is allocated such that each of them is atleast half full. So, if there is more than one Internal Index Block and Leaf Index Block, the minimum number of entries in an Internal index block and Leaf index block are 50 and 32 respectively. We know that all the attribute values along with their Record Pointers appear in any of the leaf blocks. So the maximum number of Leaf index blocks is:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">#</mi><mi>L</mi><mi>e</mi><mi>a</mi><mi>f</mi><mi>I</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>x</mi><mi>B</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>k</mi><mi>s</mi><mo>=</mo><mrow><mo fence="true">⌈</mo><mfrac><mn>12000</mn><mn>32</mn></mfrac><mo fence="true">⌉</mo></mrow><mo>=</mo><mn>375</mn></mrow><annotation encoding="application/x-tex">\#Leaf Index Blocks = \left \lceil \frac {12000} {32} \right \rceil = 375</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">#</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mord mathnormal" style="margin-right:0.07847em">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.01968em">Bl</span><span class="mord mathnormal">oc</span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌈</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">32</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">12000</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌉</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">375</span></span></span></span></span></div><p>Given that the minimum number of Internal Index block entries being 50, the minimum number of children is 51. Therefore, the maximum height of the B+ Tree is :</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>H</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo>=</mo><mrow><mo fence="true">⌈</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>51</mn></msub><mn>375</mn><mo fence="true">⌉</mo></mrow><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">Height = \left \lceil \log_{51} {375} \right \rceil = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal">He</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em">⌈</span><span class="mop"><span class="mop">lo<span style="margin-right:0.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em"><span style="top:-2.4559em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">51</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord">375</span></span><span class="mclose delimcenter" style="top:0em">⌉</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2</span></span></span></span></span></div><p>While traversing down the tree from the root, we access 2 Index Blocks in the disk(including the Leaf Index Block). The final Leaf Index Block gives us the Record Id i.e(Block Number, Slot Number) of the record required. We fetch the record from that Record Block using Record Id.
So, the total number of disk accesses required when an Index is created is, 2+1= <strong>3</strong>.
We notice that from 1000 disk accesses to 3 disk accesses, the performance increase is substantial.</p><p></p></div></div></details></div></div><p>Now, let us understand the creation of B+ Tree in NITCbase in detail, and Insert and Search operations on it.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>PLEASE NOTE</div><div class="admonitionContent_S0QG"><p>Going forward, we will be assuming simpler values than the actual sizes of NITCbase in the interest of easier understanding.</p><p>We will be taking the size of a <a href="/docs/Design/Physical Layer#record-block-structure">record block</a> as 320 bytes analogous to the 2048 bytes in NITCBase. Therefore, keeping all other factors the same, the number of slots per block would be 4.</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">#</mi><mi>S</mi><mi>l</mi><mi>o</mi><mi>t</mi><mi>s</mi><mo>=</mo><mi>L</mi><mo>=</mo><mrow><mo fence="true">⌊</mo><mfrac><mrow><mn>320</mn><mo>−</mo><mn>32</mn></mrow><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mi mathvariant="normal">#</mi><mi>A</mi><mi>t</mi><mi>t</mi><mi>r</mi><mi>i</mi><mi>b</mi><mi>u</mi><mi>t</mi><mi>e</mi><mi>s</mi><mo stretchy="false">(</mo><mi>K</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mfrac><mo fence="true">⌋</mo></mrow><mspace linebreak="newline"></mspace><mo>=</mo><mrow><mo fence="true">⌊</mo><mfrac><mn>288</mn><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>16</mn><mo>∗</mo><mn>4</mn><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mfrac><mo fence="true">⌋</mo></mrow><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">\#Slots = L = \left \lfloor \frac {320 - 32} {((16 * \#Attributes(K)) + 1)} \right \rfloor \\ = \left \lfloor \frac {288} {((16 * 4 + 1)} \right \rfloor = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">#</span><span class="mord mathnormal" style="margin-right:0.01968em">Sl</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">((</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">#</span><span class="mord mathnormal">A</span><span class="mord mathnormal">tt</span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mord mathnormal">ib</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">es</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em">K</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">320</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">32</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌋</span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌊</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mopen">((</span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord">1</span><span class="mclose">)</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">288</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌋</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">4</span></span></span></span></span></div><p>Additionally, we will be taking the maximum number of entries in the <a href="/docs/Design/Physical Layer#internal-index-block-structure">Internal Index block</a> to be <strong>4</strong> and <a href="/docs/Design/Physical Layer#leaf-index-block-structure">Leaf Index Block</a> to be <strong>3</strong>. In the actual implementation of NITCbase, these values are 100 and 63 respectively.</p></div></div><p>Consider a Relation <code>Student (Name, Roll No, Batch, Marks)</code> with 4 attributes. An index is to be created on the attribute <code>Roll No</code>.</p><p>These are the records of the relation.</p><table><thead><tr><th>Name</th><th>Roll Number</th><th>Batch</th><th>Marks</th></tr></thead><tbody><tr><td>A</td><td>1</td><td>B</td><td>95</td></tr><tr><td>B</td><td>3</td><td>A</td><td>75</td></tr><tr><td>C</td><td>8</td><td>A</td><td>87</td></tr><tr><td>D</td><td>7</td><td>A</td><td>63</td></tr><tr><td>E</td><td>6</td><td>B</td><td>59</td></tr><tr><td>F</td><td>4</td><td>B</td><td>85</td></tr><tr><td>G</td><td>11</td><td>A</td><td>52</td></tr><tr><td>H</td><td>13</td><td>B</td><td>73</td></tr><tr><td>I</td><td>10</td><td>A</td><td>72</td></tr><tr><td>J</td><td>9</td><td>B</td><td>76</td></tr><tr><td>K</td><td>5</td><td>B</td><td>90</td></tr><tr><td>L</td><td>12</td><td>A</td><td>71</td></tr><tr><td>M</td><td>14</td><td>B</td><td>69</td></tr><tr><td>N</td><td>2</td><td>B</td><td>77</td></tr></tbody></table><p>We have 14 records. Hence, the number of Record blocks required is 4.</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">#</mi><mi>R</mi><mi>e</mi><mi>c</mi><mi>o</mi><mi>r</mi><mi>d</mi><mi>B</mi><mi>l</mi><mi>o</mi><mi>c</mi><mi>k</mi><mi>s</mi><mo>=</mo><mrow><mo fence="true">⌈</mo><mfrac><mn>14</mn><mn>4</mn></mfrac><mo fence="true">⌉</mo></mrow><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">\#RecordBlocks = \left \lceil \frac {14} {4} \right \rceil = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord">#</span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mord mathnormal" style="margin-right:0.02778em">ecor</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.01968em">Bl</span><span class="mord mathnormal">oc</span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size3">⌈</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">14</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size3">⌉</span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">4</span></span></span></span></span></div><p>The record block structure is as follows.</p><p><img loading="lazy" src="/assets/images/recordblk-b46a82a20aee76f436d90c97f9ae2398.png" width="1247" height="541" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-index">Create Index<a class="hash-link" href="#create-index" title="Direct link to heading">​</a></h3><p>As discussed in <a href="/docs/Design/Physical Layer">Physical Layer</a>, each <a href="/docs/Design/Physical Layer/#attribute-catalog">Attribute Catalog entry</a> contains the <code>RootBlock</code> field which stores the root block number of the B+ Tree if there is an index created on the attribute or -1 otherwise.</p><p>In order to create the Index, we begin by getting a free Leaf index block, say <strong>L1</strong> allocated for the root block. We then update <code>RootBlock</code> in the Attribute Catalog entry.</p><p><img loading="lazy" src="/assets/images/create_attrcat-9451638ba0d1ae63206e7fae3c1cd609.png" width="891" height="430" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insertion-in-b-tree">Insertion in B+ Tree<a class="hash-link" href="#insertion-in-b-tree" title="Direct link to heading">​</a></h3><p>Considering the simplified version of B+ Tree implementation similar to NITCbase, the algorithmic procedure for insertion is given below:</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="algorithm">Algorithm:<a class="hash-link" href="#algorithm" title="Direct link to heading">​</a></h4><ol><li>Find the correct Leaf index block, say X where the key value has to be inserted by traversing down the tree starting from the Root Block.</li><li>Create a temporary array of indices containing entries of X. Insert the entry corresponding to the key value in the array maintaining sorted order.<ol><li>If the size of indices array&lt;=3 on insertion, i.e leaf is not full, overwrite the Leaf index block X with entries of the array.</li><li>If the size of indices array=4, i.e leaf is full, get a new free Leaf index block, say Y. Distribute the entries in indices array evenly between X and Y. X contains the first two entries. Y contains the next 2 entries. We must add a new entry to the parent block, say P with child pointers to X and Y. The last value of X is to be added to P (P=parent of X).<ol><li>If X does not have a parent block:<ul><li>Get a new free Internal index block, i.e P, and insert the new entry. This is the case when the root is split. P is the new Root block. Update the attribute catalog entry accordingly.</li></ul></li><li>Else<ul><li>Insert the new entry in P using a temporary array of indices containing entries of P, maintaining sorted order.</li><li>If the size of indices array=5 on insertion of new entry, get a new free Internal index block, say Q. Insert the first and last 2 entries in P and Q respectively. Also, insert the middle entry in the parent block above with child pointers to P and Q (Why? to propagate key values up the tree) by repeating the algorithm from step 2.ii.a (X=P, P=parent block of P).</li></ul></li></ol></li></ol></li></ol><p>We need to insert the following entries, a set of key values of the attribute <code>RollNo</code> along with their corresponding record pointers i.e Record ID(Block number, Slot number) in a sequential manner.</p><table><thead><tr><th>Attribute Value</th><th>Block#</th><th>Slot#</th></tr></thead><tbody><tr><td>1</td><td>7</td><td>0</td></tr><tr><td>3</td><td>7</td><td>1</td></tr><tr><td>8</td><td>7</td><td>2</td></tr><tr><td>7</td><td>7</td><td>3</td></tr><tr><td>6</td><td>8</td><td>0</td></tr><tr><td>4</td><td>8</td><td>1</td></tr><tr><td>11</td><td>8</td><td>2</td></tr><tr><td>13</td><td>8</td><td>3</td></tr><tr><td>10</td><td>9</td><td>0</td></tr><tr><td>9</td><td>9</td><td>1</td></tr><tr><td>5</td><td>9</td><td>2</td></tr><tr><td>12</td><td>9</td><td>3</td></tr><tr><td>14</td><td>10</td><td>0</td></tr><tr><td>2</td><td>10</td><td>1</td></tr></tbody></table><p>Before the first entry insertion is performed in a B+ tree, the attribute catalog entry is obtained from the cache layer. The root block number of the attribute is checked and if not -1, we proceed further. The first entry will always be a leaf entry.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-1-3-8">Insert 1, 3, 8<a class="hash-link" href="#insert-1-3-8" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins1_indblox-3e89d4a1d53b695c2e4cda785826724e.jpg" width="391" height="201" class="img_ev3q"></p><p>When 1 is to be inserted, a temporary array of indices containing the entry is created. The purpose of the array is to ensure all the entries are in sorted order. Since the size of the array is less than three, we rewrite the entries of the leaf index block in the sorted order from the array. The header of the block will be updated.
Similarly, 3 and 8 are inserted. The parent block (<code>PBlock</code>) value remains -1 throughout these insertions as there is no parent block introduced in the B+ tree yet.</p><p><img loading="lazy" src="data:image/jpeg;base64,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" width="263" height="45" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-7">Insert 7<a class="hash-link" href="#insert-7" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins2_indblox-4fe5a4348138ab677e5fbfb821470c7f.png" width="791" height="301" class="img_ev3q"></p><p>When the entry 7 is to be inserted, the entries are sorted in the array. However, it cannot be inserted or written into the same block L1 as now the existing leaf block has 3 entries i.e the leaf block is full. A new leaf block, L2 is hence obtained.</p><p>Iterate through all the sorted four entries. L1 is overwritten by the first two entries (the first half of the entries) of current block L1 and the next two entries are written into the new leaf block, L2. The headers of both the blocks are updated to incorporate the changes. The RBlock value of L1 is set as L2 and the LBlock value of L2 is set as L1. This is to maintain a linked list of leaf blocks.</p><p>A parent block is now required since there has been a split. A new internal index block, I1 is obtained for the same. The last value of the first block obtained on splitting the node, in this example the value 3 is made the entry of the internal index block. This also does not violate the requirement that the maximum number of entries in an internal index block is four.</p><p>The left child and right child of this new internal index block are set as L1 and L2 respectively. The parent block value of the child blocks is updated as I1.</p><p>The attribute catalog will be updated with the changes including the new root block number.</p><p><img loading="lazy" src="/assets/images/ins2_attrcat-6e25d9349926541da3fa8a74f1acc94e.png" width="891" height="430" class="img_ev3q"></p><p><img loading="lazy" src="data:image/jpeg;base64,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" width="362" height="137" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-6">Insert 6<a class="hash-link" href="#insert-6" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins3_indblox-9d9ab5ccc1d40785bf3ce3bf3a1dfef2.png" width="791" height="321" class="img_ev3q"></p><p>When 6 is to be inserted, we traverse down the tree starting from the root block, I1 to find the appropriate leaf index block. Since 6 is greater than 3, we traverse down to the right child of I1. As seen previously, the entries are sorted and since the maximum number of entries in a leaf block is not violated, the entries including the new entry 6 are written back into the block L2 and the number of entries in the header of L2 is updated.</p><p><img loading="lazy" src="/assets/images/ins3_bp-acb80b72be615c4c54aa2351bb7da82c.jpg" width="434" height="137" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-4">Insert 4<a class="hash-link" href="#insert-4" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins4_indblox-679514dd7339c1757accc81d5e8f519f.jpg" width="801" height="351" class="img_ev3q"></p><p>When 4 is to be inserted, we traverse down the tree starting from the root block I1 to find the appropriate leaf index block. Since 4 is greater than 3, we traverse down to the right child of I1. The entries are sorted. However, in this case, the number of entries in the leaf block will become greater than three if the entry 4 is to be included in L2. Hence a new leaf block, L3 is introduced. L2 is overwritten with the first half of the sorted entries in the array (4,6) and the rest (7,8) are written into L3. The LBlock and RBlock values of the blocks are updated to maintain the linked list.</p><p>Since L2 already has a parent block I1 and the number of entries in the parent block is less than four, the last value in the current L2 is the new entry to the parent block. The parent block entries are then sorted and written back into I1. The number of entries in I1 is incremented. The left child and right child of the new entry 6 in the parent block are set as L2 and L3 respectively.</p><p>The parent block of L3 is set as I1.</p><p><img loading="lazy" src="/assets/images/ins4_bp-1c6dc3f6daff35bf70e9c8b6b7c9db5a.jpg" width="534" height="173" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-11">Insert 11<a class="hash-link" href="#insert-11" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins5_indblox-1a434ba0339965d47ee89559b9c43b67.jpg" width="804" height="381" class="img_ev3q"></p><p>When 11 is to be inserted, we traverse down the tree starting from the root block I1 to find the appropriate leaf index block. Since 11 is greater than 6, we traverse down to the right child of 6 in I1. The entries in L3 and the new entry 11 are sorted. Since the maximum number of entries in a leaf block is not violated, the entries are written back into the block L3 and the number of entries in the header of L3 is updated.</p><p><img loading="lazy" src="/assets/images/ins5_bp-aceb358b3a5a63903aea9ea02807c2e6.jpg" width="610" height="173" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-13">Insert 13<a class="hash-link" href="#insert-13" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins6_indblox-627683c503c5d9c16063b1b4818cb5dc.jpg" width="796" height="581" class="img_ev3q"></p><p>When 13 is to be inserted, we traverse down the tree starting from the root block I1 to find the appropriate leaf index block. Since 13 is greater than 6, we traverse down to the right child of 6 in I1. The entries are sorted. However, in this case, the number of entries in the leaf block L3 will become greater than three if the entry 13 is to be included. Hence a new leaf block, L4 is introduced. L3 is overwritten with the first half of the sorted entries in the array (7,8) and the rest (11,13) are written into L4. The LBlock and RBlock values of the headers of the blocks are updated to maintain the linked list.</p><p>Since L3 already has a parent block I1 and the number of entries in the parent block is less than four, the last value in the current L3 is the new entry to the parent block. This new entry along with the current entries in I1 are sorted. The sorted entries are then written back into I1 and the number of entries in I1 is incremented. The left child and right child of the entry 8 in the parent block are set as L3 and L4 respectively.</p><p>The parent block of L4 is set as I1.</p><p><img loading="lazy" src="/assets/images/ins6_bp-e3c40312de76eab3cca4a07449fd0b00.jpg" width="731" height="175" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-10">Insert 10<a class="hash-link" href="#insert-10" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins7_indblox-14181cac9e072534c54d46c53fb618e0.jpg" width="797" height="611" class="img_ev3q"></p><p>When 10 is to be inserted, we traverse down the tree starting from the root block I1 to find the appropriate leaf index block. Since 10 is greater than 8, we traverse down to the right child of 8 in I1. The entries in L4 along with the new entry 10 are sorted and since the maximum number of entries in a leaf block is not violated, the entries are written back into the block L4 and the number of entries in the header of L4 is updated.</p><p><img loading="lazy" src="/assets/images/ins7_bp-c2c60f9e6be8f3f53be5e95ac74bd468.jpg" width="808" height="146" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-9">Insert 9<a class="hash-link" href="#insert-9" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins8_indblox-cde71da9c4deb18822ac3496f76701c4.jpg" width="798" height="582" class="img_ev3q"></p><p>When 9 is to be inserted, we traverse down the tree starting from the root block I1 to find the appropriate leaf index block. Since 9 is greater than 8, we traverse down to the right child of 8 in I1 which is L4. The entries are sorted. However, in this case, the number of entries in the leaf block L4 will become greater than three if the entry 9 is to be included. Hence a new leaf block L5 is introduced. The first half of the sorted entries in the array (9,10) are set in the block L4 and the rest (11,13) are set in L5. The LBlock and RBlock values of the headers of the blocks are updated to maintain the linked list.</p><p>Since L4 already had a parent block I1 and the number of entries in the parent block is less than four, we take the last value in the current L4 and the current entries in I1 into a temporary array for the purpose of sorting. The sorted entries are then written back into I1 and the number of entries in I1 is incremented. The left child and right child of the entry 10 in the parent block are set as L4 and L5 respectively.</p><p>The parent block of L5 is set as I1.</p><p><img loading="lazy" src="/assets/images/ins8_bp-02386a62154f95d968fefaf47a77074a.jpg" width="933" height="177" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-5">Insert 5<a class="hash-link" href="#insert-5" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins9_indblox-fa8297ebe69f1617b5d188e73aff5d3f.jpg" width="797" height="557" class="img_ev3q"></p><p>When 5 is to be inserted, we traverse down the tree starting from the root block I1 to find the appropriate leaf index block. Since 5 is greater than 3 but less than 6, we traverse down to the left child of 6 in I1 which is L2. The entries in L2 along with the new entry 5 are sorted and since the maximum number of entries in a leaf block is not violated, the entries are written back into the block L2 and the number of entries in the header of L2 is updated.</p><p><img loading="lazy" src="/assets/images/ins9_bp-7f42e615597e6a78525cad85e09f0b67.jpg" width="1010" height="167" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-12">Insert 12<a class="hash-link" href="#insert-12" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins10_indblox-d489146e284a9b1d375ee7a9a986b68b.jpg" width="792" height="591" class="img_ev3q"></p><p>When 12 is to be inserted, we traverse down the tree starting from the root block I1 to find the appropriate leaf index block. Since 12 is greater than 10, we traverse down to the right child of 10 in I1 which is L5. The entries in L5 along with the new entry 12 are sorted and since the maximum number of entries in a leaf block is not violated, the entries are written back into the block L5 and the number of entries value in the header of L5 is updated.</p><p><img loading="lazy" src="/assets/images/ins10_bp-e3cec2a1c72b6642552e3c2b2423a2b3.jpg" width="1088" height="177" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-14">Insert 14<a class="hash-link" href="#insert-14" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins11_indblox-3d8ab825f6aa9f54bf2e37e8a856a953.jpg" width="797" height="841" class="img_ev3q"></p><p>When 14 is to be inserted, we traverse down the tree starting from the root block I1 to find the appropriate leaf index block. Since 14 is greater than 10, we traverse down to the right child of 10 in I1 which is L5. The entries are sorted. However, in this case, the number of entries in the leaf block L5 will become greater than three if the entry 14 is to be included. Hence a new leaf block, L6 is introduced. L5 is overwritten by the first half of the sorted entries in the array (11,12) and the rest (13,14) are written into L6. The LBlock and RBlock values of the blocks are updated to maintain the linked list.</p><p>L5 already has a parent block I1. The last value in L5 and the current entries in I1 are sorted. However, block I1 has reached the maximum number of entries possible in an internal index block i.e the parent block is full. Hence we obtain a new internal index block, I2. We copy the first two entries (3,6) from the sorted entries into the old internal block I1 and the last two entries (10,12) are copied into the new internal block I2. The #Entries attribute of these two blocks is updated and the PBlock attribute of both are kept the same i.e -1.</p><p>Since the previous parent block has now been split, a new internal index block, I3 is introduced. The middle value (8) of the previous root which had been stored in a temporary variable is now inserted into I3. The left child and right child of 8 in I3 are set as I1 and I2 respectively. The number of entries in the new internal index block is incremented to 1. The parent block of I1 and I2 is set to I3.</p><p>The root block number of this B+ Tree in the attribute catalog is updated to the new root block number.</p><p><img loading="lazy" src="/assets/images/ins11_attrcat-440ed06fa0c8dc15ccfd102ffb3a2a99.png" width="891" height="430" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/ins11_bp-c41f8426bb8c23a57a8b226bb7277cc7.jpg" width="1214" height="255" class="img_ev3q"></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="insert-2">Insert 2<a class="hash-link" href="#insert-2" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="/assets/images/ins12_indblox-7b5394a73e50110083b37337ab8004bd.jpg" width="797" height="841" class="img_ev3q"></p><p>Entry 2 is inserted in a similar manner as demonstrated in the previous steps.</p><p><img loading="lazy" src="/assets/images/ins12_bp-7e6ebd98ff7d4462d01dfa00325735cd.jpg" width="1292" height="226" class="img_ev3q"></p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="search-on-b-tree">Search on B+ Tree<a class="hash-link" href="#search-on-b-tree" title="Direct link to heading">​</a></h3><p>Search is done on attributes that are indexed to get a record hit based on certain search conditions given (i.e <code>op</code>, <code>attrval</code>). <code>op</code> represents one amongst the 6 relational operators(<code>EQ</code>, <code>LE</code>, <code>LT</code>, <code>GE</code>, <code>GT</code>, <code>NE</code> corresponds to equal, less than equal, less than, greater than equal, greater than, not equal operators respectively). Attribute that is to be checked against the operater is denoted by <code>attrval</code>. Attribute cache provides the information on previous hit i.e index of the previous record that satisfied the search condition, and it is modified if a new record hit is encountered. Record ID (block number, slot number) corresponding to the record satisfying search condition is returned. Search is continued until (-1, -1) is returned as the Record ID, indicating complete scan of all Leaf Blocks, thereby completing search.</p><p>A concise algorithmic procedure for search on a B+ Tree implemented in NITCbase is given below.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="algorithm-1">Algorithm:<a class="hash-link" href="#algorithm-1" title="Direct link to heading">​</a></h4><ol><li><p>Get <code>searchIndex</code> from the <a href="/docs/Design/Cache Layer#class-attrcachetable">Attribute Catalog Cache</a> and store it in the variable <code>sIndex</code>. Search Index is a structure of type <a href="/docs/Design/Buffer Layer#indexid">IndexId</a>. IndexId is a combination of block number of the corresponding leaf index block and index number, which is the offset of the index in that block. Search Index represents the previous hit in the leaf blocks, i.e the previous record that satisfied the search condition. This is used to take advantage the linked list structure of leaf blocks after the first hit.</p></li><li><p>Reset the value of <code>searchIndex</code> in the Attribute Catalog Cache to (-1, -1). This will be set to the correct index id if an entry satisfying op for given attrVal is found in the course of the search.</p></li><li><p>If <code>sIndex</code> is (-1, -1), i.e the search is done for the first time :</p><ol><li>Traverse down the tree starting from the root, to find the first record in the leaf block that satisfies the search condition. Set <code>searchIndex</code> in the Attribute Catalog Cache to this new index found in the leaf block. Return the Record Id of the record that satisfied the search condition.</li><li>If there is no record that satisfies the search condition, return (-1, -1) as the Record ID.</li></ol><p>Else (A record satisfying search condition was already found):</p><ol><li>Set the variable block = <code>sIndex</code>.<code>block</code> and index = <code>sIndex</code>.<code>slot</code> + 1.<br> If index exceeds the number of entries present in the leaf index block, update <code>block</code> to its right block and set <code>index</code> = 0.</li><li>Scan the leaf blocks linearly until from the current (<code>block</code>, <code>index</code>) until you find a record that satisfies the search condition. Set <code>searchIndex</code> in the Attribute Catalog Cache to this new index found in the leaf block. Return the Record Id of the record that satisfied the search condition.</li><li>If blocknum reaches -1, it implies that all the leaf blocks have been scanned, and search is completed. Return (-1, -1) as the Record ID.</li></ol></li></ol><p><strong>Let us try to understand the trace of a search query on the B+ Tree implemented by the series of insert operations in the above section.</strong></p><p>Consider a query to fetch the student records of all the students with RollNo &gt;= 11. Here, the search condition represented in the form (op, attrval) is <strong>(GE, 11)</strong>.</p><ul><li><p>At first we retrieve the value of <code>searchIndex</code> from the <a href="/docs/Design/Cache Layer#class-attrcachetable">Attribute Catalog Cache</a> and store it in the variable <code>sIndex{block,index}</code>. Then, we reset the value of <code>searchIndex</code> in the Attribute Catalog Cache to (-1, -1). This will be set to the correct index id if a record satisfying our condition is found in course of the search. Since it is the first search, the value retrieved and stored earlier in <code>sIndex</code> would be invalid.</p></li><li><p>Traverse down the tree starting from the root, to find the first record in the leaf block that satisfies the search condition (i.e. <code>RollNo</code> &gt;= 11). First such record is that of student with roll number 11. Since this is the first entry in the Leaf Block L5, <code>searchIndex</code> in the Attribute Catalog Cache is set to this new index found, i.e (L5, 0). L5 is block number of the corresponding leaf index block and 0 is the offset of the index in that block. The Record ID of this record that succeeded in satisfying the search condition, (Block# 8, Slot# 2) is returned.</p></li><li><p>Now, we proceed to the second iteration of search. <code>sIndex</code> is updated with the new value retrieved from <code>searchIndex</code> field of Attribute Catalog Cache. <code>searchIndex</code> in the Attribute Catalog Cache is then reset to (-1, -1). Since, there has been a previous hit, i.e. a previous record that satisfied the search condition, <code>sIndex</code> would contain a valid search index.</p></li><li><p>Set the variable <code>block</code> = <code>sIndex</code>.<code>block</code> and <code>index</code> = <code>sIndex</code>.slot + 1.<br>
Here, that would be <code>block</code> = L5 and <code>index</code> = 0+1 = 1<br>
We linearly scan the leaf blocks from this point. As we begin, we get the next record that satisfies our search condition, the record with <code>RollNo</code>=12 which lies at the offset 1 in the Leaf Index Block L5. <code>searchIndex</code> in the Attribute Catalog Cache is set to this new index found, i.e (L5, 1) and the Record ID <strong>(Block# 9, Slot# 3)</strong> is returned.</p></li><li><p>Now, we proceed to the third iteration of Search. <code>sIndex</code> is updated with the new value retrieved from <code>searchIndex</code> field of Attribute Catalog Cache. Then, <code>searchIndex</code> of Attribute Catalog Cache is reset to (-1, -1). <code>sIndex</code> would contain a valid search index as there has been a previous hit. i.e <code>sIndex</code> = (L5, 1)<br>
We set block = L5 and increment the index, i.e index = 1+1 = 2.<br>
From, the header of the Leaf Block L5, we observe that the number of entries is 2 which implies that the maximum value of offset possible is 1. So, update the block to its right block and set index = 0. Therefore, block = L6 and index = 0.</p></li><li><p>As Leaf blocks are scanned linearly from this block, we immediately get the next hit at RollNo 13. <code>searchIndex</code> field in the Attribute Catalog Cache is updated to this new index found (L6, 0). The Record ID of the corresponding record <strong>(Block# 8, Slot# 3)</strong> is returned.</p></li><li><p>On proceeding with the next iteration of Search, <code>sIndex</code> is updated with <code>searchIndex</code> field of Attribute Catalog Cache and then <code>searchIndex</code> is reset to (-1, -1). So, <code>sIndex</code> = (L6, 0)</p></li><li><p>We set block = L6 and index = 0+1 = 1<br>
On beginning linear scan from this point, we get a hit at RollNo 14. <code>searchIndex</code> field in the Attribute Catalog Cache is updated to (L6, 1) and the corresponding Record ID <strong>(Block# 10, Slot# 0)</strong> is returned.</p></li><li><p>We proceed onto the next iteration of search. <code>sIndex</code> is updated with the <code>searchIndex</code> field of Attribute Catalog Cache and <code>searchIndex</code> is reset to (-1, -1). So, <code>searchIndex</code> = (L6, 1)</p></li><li><p>Set <code>block</code> = L6 and <code>index</code> = 1+1 = 2.<br>
Header of the block L6 indicates that number of entries is 2 and so the maximum value of offset possible is 1. So, update <code>block</code> to its right block and set <code>index</code> = 0. Since L6 is the last and rightmost Leaf Index Block in our linked list, <code>RBlock</code> of L6 is -1.<br>
block = -1</p></li><li><p>This implies that all the leaf blocks have been scanned, and search is completed. Return (-1, -1) as the Record ID to indicate this.</p></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Misc/B+ Trees"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">B+ Trees</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Misc/GDB"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">GNU Debugger(GDB)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#understanding-indexing" class="table-of-contents__link toc-highlight">Understanding Indexing</a></li><li><a href="#btree-implementation-in-nitcbase" class="table-of-contents__link toc-highlight">B+Tree Implementation in NITCbase</a><ul><li><a href="#create-index" class="table-of-contents__link toc-highlight">Create Index</a></li><li><a href="#insertion-in-b-tree" class="table-of-contents__link toc-highlight">Insertion in B+ Tree</a></li><li><a href="#search-on-b-tree" class="table-of-contents__link toc-highlight">Search on B+ Tree</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">References</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/AboutUs">About Us</a></li><li class="footer__item"><a href="https://github.com/Nitcbase" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 National Institute of Technology Calicut. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.05c28bfc.js"></script>
<script src="/assets/js/main.25169539.js"></script>
</body>
</html>